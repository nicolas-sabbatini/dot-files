#!/bin/bash
set -e

sudo -p "You must be sudo: " printf "" || exit 1

echo "============================ 💻 Updating  System 💻 ============================"
sudo apt update && sudo apt upgrade -y
echo "================================================================================"

if command gup &>/dev/null; then
  echo "=============================== 🦫 Update  GO 🦫 ==============================="
  gup update
  echo "================================================================================"
fi

echo "=============================  Cleaning Flatpak  ============================="
flatpak uninstall --unused -y
echo "================================================================================"

echo "=============================  Updating Flatpak  ============================="
flatpak update -y
echo "================================================================================"

if command -v rustup &>/dev/null; then
  echo "============================= 🦀 Updating  Rust 🦀 ============================="
  rustup update
  echo "================================================================================"
  echo "============================= 📦 Updating cargo 📦 ============================="
  cargo install-update -a
  echo "================================================================================"
fi

if command -v deno &>/dev/null; then
  echo "============================= 🦕 Updating  Deno 🦕 ============================="
  deno upgrade
  echo "================================================================================"
fi

echo "👏 DONE! 👏"
