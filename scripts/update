#!/bin/bash
set -e

sudo -p "You must be sudo: " printf "" || exit 1

echo "============================ ğŸ’» Updating  System ğŸ’» ============================"
sudo apt update && sudo apt upgrade -y
echo "================================================================================"

if command gup &>/dev/null; then
  echo "=============================== ğŸ¦« Update  GO ğŸ¦« ==============================="
  gup update
  echo "================================================================================"
fi

echo "============================= ïŒ¤ Cleaning Flatpak ïŒ¤ ============================="
flatpak uninstall --unused -y
echo "================================================================================"

echo "============================= ïŒ¤ Updating Flatpak ïŒ¤ ============================="
flatpak update -y
echo "================================================================================"

if command -v rustup &>/dev/null; then
  echo "============================= ğŸ¦€ Updating  Rust ğŸ¦€ ============================="
  rustup update
  echo "================================================================================"
  echo "============================= ğŸ“¦ Updating cargo ğŸ“¦ ============================="
  cargo install-update -a
  echo "================================================================================"
fi

if command -v deno &>/dev/null; then
  echo "============================= ğŸ¦• Updating  Deno ğŸ¦• ============================="
  deno upgrade
  echo "================================================================================"
fi

echo "ğŸ‘ DONE! ğŸ‘"
