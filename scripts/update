#!/bin/bash
set -e

sudo -p "You must be sudo: " printf "" || exit 1

echo "============================ 💻 Updating  System 💻 ============================"
sudo apt update && sudo apt upgrade -y
echo "================================================================================"

echo "================================  Update NVM  ================================"
install-update-nvm
echo "================================================================================"

echo "=============================== 🦫 Update  GO 🦫 ==============================="
gup update
echo "================================================================================"

echo "=============================  Cleaning Flatpak  ============================="
flatpak uninstall --unused -y
echo "================================================================================"

echo "=============================  Updating Flatpak  ============================="
flatpak update -y
echo "================================================================================"

echo "============================= 🦀 Updating  Rust 🦀 ============================="
rustup update
echo "================================================================================"

echo "============================= 📦 Updating cargo 📦 ============================="
cargo install-update -a
echo "================================================================================"

echo "=============================== 🥟 Update Bun 🥟 ==============================="
bun upgrade
echo "================================================================================"

if command -v snap &>/dev/null; then
  echo "============================== 😢 Update snaps 😢 =============================="
  sudo snap refresh
  echo "================================================================================"
fi

echo "👏 DONE! 👏"
